<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Functions - Inner function</title>
  <link rel="stylesheet" href="../assets/css/index.css">
</head>
<body>
  <div class="container">
    <h2>First-class functions</h2>
    <p></p>
    <div class="item-1"></div>
  </div>

  <div class="container">
    <h2>Inner function</h2>
    <p>One important characteristic of inner functions is that they have implicit access to the outer functionâ€™s scope. This means that the inner function can use the variables, arguments, etc. of the outer function.</p>
    <div class="item-2"></div>
  </div>

  <div class="container">
    <input type="button" id="button1" value="One" />
    <input type="button" id="button2" value="Two" />
    <input type="button" id="button3" value="Three" />
  </div>

  <script>
  // ==========================================================================
  // First-Class Functions
  // ==========================================================================
  var foo = function() {
    var text = "Hello World!!!";
    return document.querySelector(".item-1").innerHTML = text;
  }

  var bar = function(arg) {
    return arg;
  }

  bar(foo());


  // ==========================================================================
  // Inner function
  // ==========================================================================
  var add = function(val1, val2) {

    function doAdd() {
      return val1 + val2;
    }

    return doAdd();

  }

  document.querySelector(".item-2").innerHTML = add(3,3);




  function getHandler(i) {
    return function handler() {
      alert("Clicked button " + i);
    };

  }

  for (var i = 1; i < 4; i++) {
    var button = document.getElementById("button" + i);

    button.addEventListener("click", getHandler(i));
  }

  </script>
</body>
</html>
